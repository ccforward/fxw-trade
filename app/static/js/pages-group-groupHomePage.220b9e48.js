(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-group-groupHomePage"],{1610:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".add-post[data-v-77d5105b]{position:fixed;bottom:20px;left:0;right:0;margin:0 auto;height:85px;width:85px}.nav[data-v-77d5105b]{position:absolute;top:0;z-index:99}.nav-more[data-v-77d5105b]{width:16px;height:3px}.empty[data-v-77d5105b]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin:%?100?% 0 0 0;color:#999}.empty uni-image[data-v-77d5105b]{width:%?389?%;height:%?243?%}.prompt[data-v-77d5105b]{height:%?100?%;color:#999;text-align:center;line-height:%?100?%}.scroll[data-v-77d5105b]{-webkit-animation:15s wordsLoop-data-v-77d5105b linear infinite;animation:15s wordsLoop-data-v-77d5105b linear infinite}.notice[data-v-77d5105b]{display:-webkit-box;display:-webkit-flex;display:flex;position:absolute;top:%?575?%;left:%?33?%}.notice-icon[data-v-77d5105b]{margin:0 %?10?% 0 0;width:%?65?%;height:%?38?%}.notice-content[data-v-77d5105b]{padding:0 %?10?% 0 0;width:%?632?%;overflow:hidden}.notice-content-text[data-v-77d5105b]{white-space:nowrap}.active[data-v-77d5105b]{color:#ff9626!important}.scroll-view[data-v-77d5105b]{height:100vh}.post[data-v-77d5105b]{position:absolute;top:%?635?%;border-top:%?1?% solid #d2d2d2;width:100%;margin-bottom:70px}.post-section[data-v-77d5105b]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?50?%;border:%?1?% solid #bfbfbf;border-radius:%?10?%}.post-section .item[data-v-77d5105b]{font-size:%?24?%;font-family:PingFang SC;font-weight:500;color:#999;padding:0 %?11?%}.post-section .item[data-v-77d5105b]:not(:last-child){border-right:%?2?% solid #bfbfbf}.post-top[data-v-77d5105b]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?32?%}.post-top uni-text[data-v-77d5105b]{font-size:%?30?%;font-family:PingFang SC;font-weight:500;color:#999}.groupSwiper[data-v-77d5105b]{position:absolute;top:%?229?%}.allGroup[data-v-77d5105b]{font-size:%?30?%;font-family:PingFang SC;font-weight:700;color:#fff;position:absolute;top:%?197?%;right:%?53?%}.oftenOpen[data-v-77d5105b]{position:absolute;top:%?182?%;left:%?47?%;width:%?181?%;height:%?60?%;background:rgba(106,82,156,.65);border-radius:%?30?%;display:table;text-align:center}.oftenOpen uni-text[data-v-77d5105b]{display:table-cell;vertical-align:middle;font-size:%?30?%;font-family:PingFang SC;font-weight:700;color:#fff}.banner[data-v-77d5105b]{position:relative;margin:0 0 %?180?% 0;width:100%;height:%?400?%;background:-webkit-gradient(linear,left bottom,left top,from(#24093e),to(rgba(48,21,74,.01)));background:-webkit-linear-gradient(bottom,#24093e,rgba(48,21,74,.01));background:linear-gradient(0deg,#24093e,rgba(48,21,74,.01))}.banner-mask[data-v-77d5105b]{position:absolute;top:0;left:0;width:100%;height:%?400?%;background:-webkit-gradient(linear,left bottom,left top,from(#24093e),to(rgba(48,21,74,.01)));background:-webkit-linear-gradient(bottom,#24093e,rgba(48,21,74,.01));background:linear-gradient(0deg,#24093e,rgba(48,21,74,.01))}@-webkit-keyframes wordsLoop-data-v-77d5105b{0%{-webkit-transform:translateX(0);transform:translateX(0)}25%{-webkit-transform:translateX(0);transform:translateX(0)}75%{-webkit-transform:translateX(calc(-100% + 2.35rem));transform:translateX(calc(-100% + 2.35rem))}100%{-webkit-transform:translateX(calc(-100% + 2.35rem));transform:translateX(calc(-100% + 2.35rem))}}@keyframes wordsLoop-data-v-77d5105b{0%{-webkit-transform:translateX(0);transform:translateX(0)}25%{-webkit-transform:translateX(0);transform:translateX(0)}75%{-webkit-transform:translateX(calc(-100% + 2.35rem));transform:translateX(calc(-100% + 2.35rem))}100%{-webkit-transform:translateX(calc(-100% + 2.35rem));transform:translateX(calc(-100% + 2.35rem))}}",""]),t.exports=e},"174e3":function(t,e,i){var a=i("1610");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("602a80c6",a,!0,{sourceMap:!1,shadowMode:!1})},"2cec":function(t,e,i){t.exports=i.p+"static/img/bg_mengceng.5dcc7bf6.png"},"341c":function(t,e,i){"use strict";i.r(e);var a=i("6153"),n=i("b696");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("ac85");var r,s=i("f0c5"),d=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"77d5105b",null,!1,a["a"],r);e["default"]=d.exports},6153:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var a={customSwiper:i("afc5").default,customLoader:i("d6c8").default,uniLoadMore:i("39de").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-image",{staticClass:"banner",attrs:{mode:"aspectFill",src:t.bannerBg}}),a("v-uni-image",{staticClass:"banner-mask",attrs:{src:i("2cec")}}),a("v-uni-view",{staticClass:"groupSwiper"},[a("custom-swiper",{attrs:{dataList:t.currentGroup,"url-key":"url",isImg:!1,current:t.current}})],1),a("custom-loader",{attrs:{loader:t.loader}}),a("post-list",{attrs:{postData:t.postList,isMembers:t.isMembers}}),a("uni-load-more",{attrs:{status:t.status}})],1)},o=[]},6972:function(t,e,i){"use strict";var a=i("4ea4");i("99af"),i("7db0"),i("4160"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("2909")),o=a(i("0c2d")),r={components:{postList:o.default},data:function(){return{status:"more",loader:1,userId:uni.getStorageSync("userInfo").user_id,nameScroll:!1,activeIndex:0,swiperActiveId:0,total:0,postList:{page:0,size:10,hasMore:!0,list:[]},sectionList:[{name:"最新"},{name:"精选"},{name:"关注"}],bannerBg:null,currentGroup:[],time:"",isFollowed:!1,group_id:null,isMembers:!0,current:0}},methods:{back:function(){uni.navigateBack()},goAddPost:function(){uni.navigateTo({url:"/pages/group/post/addPost"}),uni.setStorageSync("currentGroup",this.currentGroup)},openPopup:function(){this.$refs.share.open()},changeSection:function(t){switch(t){}},getGroupPosts:function(t){var e=this;if(this.loader=1,t&&(this.postList.page=0,this.postList.hasMore=!0),!this.postList.hasMore)return this.loader=0,void(this.status="nomore");this.postList.page>0&&(this.status="loading"),this.postList.page++,this.$request({action:"post/fetchGroupPosts",data:{user_id:this.userId,group_id:this.group_id,page:this.postList.page,size:this.postList.size}}).then((function(i){e.loader=0;var a=i.data.list.data;if(!a.length)return e.postList.total=0,e.postList.list=[],void(e.status="nomore");e.postList.total=i.metadata.total.total,e.postList.hasMore=e.postList.size*e.postList.page<e.postList.total,a.forEach((function(t){t.hasOwnProperty("like_list")?(t.isLike=!!t.like_list.find((function(t){return t===e.userId})),t.like_length=t.like_list.length):(t.like_length=0,t.isLike=!1),t.hasOwnProperty("images")?!t.images instanceof Array?t.images=[]:t.images.forEach((function(e,i){t.images[i]={url:e,isLongImg:!1},uni.getImageInfo({src:t.images[i].url,success:function(e){e.height>4200&&(t.images[i].isLongImg=!0)}})})):t.images=[],t.hasOwnProperty("comments_count")||(t.comments_count=0)})),e.postList.list=t?a:[].concat((0,n.default)(e.postList.list),(0,n.default)(a))}))},getGroupDetail:function(){var t=this;this.$request({action:"group/get",data:{user_id:this.userId,group_id:this.group_id}}).then((function(e){t.bannerBg=e.data.avatar,t.currentGroup=[e.data],e.data.hasOwnProperty("members")?t.isMembers=!!e.data.members.find((function(e){return e==t.userId})):t.isMembers=!1}))}},onLoad:function(t){var e=t.group_id;this.group_id=e,this.getGroupDetail(),uni.$emit("refreshGroup")},onShow:function(){this.getGroupPosts(!0)},onPullDownRefresh:function(){this.getGroupPosts(!0)},onReachBottom:function(){this.getGroupPosts(!1)}};e.default=r},"72cc":function(t,e,i){var a=i("7b26");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("69988c65",a,!0,{sourceMap:!1,shadowMode:!1})},"7b26":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".card[data-v-69814bb3]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.card-info[data-v-69814bb3]{display:-webkit-box;padding:0 %?33?%;font:500 %?24?% PingFang SC;color:#b3b3b3;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.card-top[data-v-69814bb3]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin:%?20?% %?30?%}.card-top .info[data-v-69814bb3]{display:-webkit-box;display:-webkit-flex;display:flex}.card-top .homepage[data-v-69814bb3]{-webkit-flex-shrink:0;flex-shrink:0;text-align:right;font-size:%?24?%;font-family:PingFang SC;font-weight:500;color:#999;margin-top:%?20?%}.card-top .title[data-v-69814bb3]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-justify-content:space-around;justify-content:space-around;margin-left:%?18?%}.card-top .title .num[data-v-69814bb3]{width:fit-content;width:-webkit-fit-content;width:-moz-fit-content;background:#ff66a3;border-radius:15px;padding:%?5?% %?10?%;font-size:%?20?%;font-family:PingFang SC;font-weight:700;color:#fff}.card-top .title uni-text[data-v-69814bb3]{font-size:%?36?%;font-family:PingFang SC;font-weight:600;color:#000}.card-top uni-image[data-v-69814bb3]{width:%?110?%;height:%?110?%;border-radius:%?10?%}.group[data-v-69814bb3]{width:%?630?%;height:%?250?%;background:#fff;border:%?4?% solid #30154a;border-radius:%?10?%;position:relative}.group-shade[data-v-69814bb3]{width:100%;height:100%;background:#30154a;border-radius:%?10?%;position:absolute;z-index:-1;bottom:%?-15?%;right:%?-15?%}.image-container[data-v-69814bb3]{width:%?750?%;height:%?350?%}.item-img[data-v-69814bb3]{width:%?630?%;height:%?250?%;background:#fff;border:%?4?% solid #30154a;border-radius:%?10?%;-webkit-animation:to-big-data-v-69814bb3 .3s;animation:to-big-data-v-69814bb3 .3s}.swiper-item[data-v-69814bb3]{width:%?630?%;height:%?300?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.item-img-side[data-v-69814bb3]{width:%?630?%;height:%?211?%;-webkit-animation:to-mini-data-v-69814bb3 .3s;animation:to-mini-data-v-69814bb3 .3s}.swiper-item-side[data-v-69814bb3]{width:%?630?%;height:%?260?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}@-webkit-keyframes to-mini-data-v-69814bb3{from{height:%?250?%}to{height:%?211?%}}@keyframes to-mini-data-v-69814bb3{from{height:%?250?%}to{height:%?211?%}}@-webkit-keyframes to-big-data-v-69814bb3{from{height:%?211?%}to{height:%?250?%}}@keyframes to-big-data-v-69814bb3{from{height:%?211?%}to{height:%?250?%}}",""]),t.exports=e},"84ed":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-swiper",{staticClass:"image-container",attrs:{"previous-margin":"45rpx","next-margin":"45rpx",current:t.current},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.swiperChange.apply(void 0,arguments)},transition:function(e){arguments[0]=e=t.$handleEvent(e),t.transition.apply(void 0,arguments)},animationfinish:function(e){arguments[0]=e=t.$handleEvent(e),t.animationfinish.apply(void 0,arguments)}}},t._l(t.dataList,(function(e,a){return i("v-uni-swiper-item",{key:a,class:t.currentIndex==a?"swiper-item":"swiper-item-side"},[t.isImg?i("v-uni-image",{class:t.currentIndex==a?"item-img":"item-img-side",style:t.dontFirstAnimation?"animation: none;":"",attrs:{src:e.imgUrl,"lazy-load":!0,mode:"aspectFill"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.clickImg(e)}}}):i("v-uni-view",[i("v-uni-view",{staticClass:"group",class:t.currentIndex==a?"item-img":"item-img-side",style:t.dontFirstAnimation?"animation: none;":""},[i("v-uni-view",{staticClass:"card"},[i("v-uni-view",{staticClass:"card-top"},[i("v-uni-view",{staticClass:"info"},[i("v-uni-image",{attrs:{src:e.avatar,mode:"aspectFill"}}),i("v-uni-view",{staticClass:"title"},[i("v-uni-text",[t._v(t._s(e.group_name))]),i("v-uni-view",{staticClass:"num"},[t._v(t._s(e.members.length)+"人")])],1)],1)],1),i("v-uni-view",{staticClass:"card-info"},[t._v(t._s(e.description))])],1),i("v-uni-view",{staticClass:"group-shade"})],1)],1)],1)})),1)},o=[]},"9ad5":function(t,e,i){"use strict";var a=i("72cc"),n=i.n(a);n.a},ac85:function(t,e,i){"use strict";var a=i("174e3"),n=i.n(a);n.a},afc5:function(t,e,i){"use strict";i.r(e);var a=i("84ed"),n=i("e4c3");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("9ad5");var r,s=i("f0c5"),d=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"69814bb3",null,!1,a["a"],r);e["default"]=d.exports},b696:function(t,e,i){"use strict";i.r(e);var a=i("6972"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},c66d:function(t,e,i){"use strict";i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{dataList:{type:Array,default:[]},urlKey:{type:String,default:""},isImg:{type:[Boolean,String],default:!0},current:{type:[String,Number],default:0}},data:function(){return{currentIndex:0,dontFirstAnimation:!0,isTransition:!1,timer:null,isHomePage:uni.getStorageSync("isHomePage")}},methods:{goGroupCard:function(t){uni.navigateTo({url:"/pages/group/groupCard?id="+t})},swiperChange:function(t){this.dontFirstAnimation=!1,this.currentIndex=t.detail.current,this.$emit("swiperChange",this.currentIndex)},clickImg:function(t){this.$emit("selected",t,this.currentIndex)},animationfinish:function(t){this.isTransition=t.detail.current==this.dataList.length-1},transition:function(t){this.isTransition&&t.detail.dx>90&&(clearTimeout(this.timer),this.timer=setTimeout((function(){uni.navigateTo({url:"../../pages/group/myGroup"})}),100))}},onLoad:function(){uni.removeStorageSync("isHomePage")}};e.default=a},e4c3:function(t,e,i){"use strict";i.r(e);var a=i("c66d"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a}}]);