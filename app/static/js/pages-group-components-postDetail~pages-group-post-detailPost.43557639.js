(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-group-components-postDetail~pages-group-post-detailPost"],{"0905":function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,".download-footer[data-v-04a5f24a]{position:fixed;bottom:50px;left:0;right:0;margin:0 auto;width:132px;height:36px;font:700 12px PingFang SC;color:#fff;text-align:center;line-height:36px;background:#ffa926;-webkit-box-shadow:0 3px 6px rgba(190,176,153,.16);box-shadow:0 3px 6px rgba(190,176,153,.16);opacity:1;border-radius:20px}.comment-total[data-v-04a5f24a]{padding-bottom:20px;font:400 9px PingFang SC;text-align:center;color:#ffa926;opacity:1}.list-action[data-v-04a5f24a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:0 %?40?%}.list-action-item[data-v-04a5f24a]{margin-left:%?10?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.list-action-icon[data-v-04a5f24a]{width:%?32?%;height:%?28?%}.list-action-num[data-v-04a5f24a]{font:normal %?26?% Adobe Heiti Std;color:#999}.empty[data-v-04a5f24a]{height:100px;color:#bebebe;text-align:center;line-height:100px}.footer[data-v-04a5f24a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-around;justify-content:space-around;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:fixed;bottom:0;z-index:998;height:%?132?%;width:100%;font:500 %?30?% PingFang SC;color:#999;border-top:%?1?% solid #e6e6e6;background-color:#fff}.footer-button[data-v-04a5f24a]{width:%?130?%;height:%?76?%;font-weight:700;text-align:center;line-height:%?76?%;color:#fff;background:#ff9b01;border-radius:%?15?%}.footer-input[data-v-04a5f24a]{padding:0 %?17?%;width:%?518?%;height:%?76?%;background:#f5f5f5;border-radius:%?15?%}.quote[data-v-04a5f24a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.quote-content[data-v-04a5f24a]{display:-webkit-box;display:-webkit-flex;display:flex;font:700 %?26?% PingFang SC;color:#999}.quote-content-name[data-v-04a5f24a]{margin:0 %?20?% 0 %?8?%}.quote-content-detail[data-v-04a5f24a]{font-weight:500}.quote-icon[data-v-04a5f24a]{width:%?4?%;height:%?24?%;background:#ccc}.boder[data-v-04a5f24a]{border:none}.owner[data-v-04a5f24a]{display:-webkit-box;display:-webkit-flex;display:flex;margin:%?17?% 0;border-bottom:%?2?% solid #e6e6e6}.owner-header[data-v-04a5f24a]{padding-left:%?31?%;height:%?25?%;font:700 %?28?% PingFang SC;color:#333;line-height:%?40?%}.owner-content[data-v-04a5f24a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;padding:0 0 %?21?% %?24?%;-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1}.owner-content-total[data-v-04a5f24a]{font:500 %?24?% PingFang SC;color:#ff9b01}.owner-content-detial[data-v-04a5f24a]{margin:%?19?% 0 %?14?%;font:500 %?30?% PingFang SC;color:grey}.owner-content-reply[data-v-04a5f24a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?15?% %?20?%;margin-bottom:%?10?%;background:#f5f5f5;border-radius:%?5?%}.owner-content-user[data-v-04a5f24a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.owner-content-user .name[data-v-04a5f24a]{font:700 %?30?% PingFang SC;color:#1a1a1a}.owner-content-user .time[data-v-04a5f24a]{margin-left:%?21?%;font:500 %?24?% PingFang SC;color:#b3b3b3}.owner-left[data-v-04a5f24a]{width:%?60?%;height:%?60?%;border-radius:50%}.popup-content[data-v-04a5f24a]{padding:%?30?% %?30?% %?100?%;height:%?1010?%;background:#fff;border-radius:%?15?% %?15?% %?0?% %?0?%;background-color:#fff;overflow:auto}.reply-name[data-v-04a5f24a]{font:700 %?26?% PingFang SC;color:#1a1a1a}.reply-content[data-v-04a5f24a]{margin-left:%?21?%;font:500 %?26?% PingFang SC;color:#666}.action[data-v-04a5f24a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font:500 %?24?% PingFang SC;color:#999}.action uni-text[data-v-04a5f24a]:not(last-child){margin-left:%?19?%}.main[data-v-04a5f24a]{display:-webkit-box;display:-webkit-flex;display:flex;margin:%?49?% %?36?%}.main-content[data-v-04a5f24a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;padding:0 0 %?21?% %?24?%;-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1;border-bottom:%?2?% solid #e6e6e6}.main-content-total[data-v-04a5f24a]{margin-top:%?10?%;font:500 %?24?% PingFang SC;color:#ff9b01}.main-content-detial[data-v-04a5f24a]{margin:%?19?% 0 %?14?%;font:500 %?30?% PingFang SC;color:grey}.main-content-reply[data-v-04a5f24a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?10?% %?20?%;background:#f5f5f5;border-radius:%?5?%}.main-content-user[data-v-04a5f24a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.main-content-user .name[data-v-04a5f24a]{font:700 %?30?% PingFang SC;color:#1a1a1a}.main-content-user .time[data-v-04a5f24a]{margin-left:%?21?%;font:500 %?24?% PingFang SC;color:#b3b3b3}.main-left[data-v-04a5f24a]{width:%?60?%;height:%?60?%;border-radius:50%}.header[data-v-04a5f24a]{padding-left:%?31?%;height:%?86?%;font:700 %?28?% PingFang SC;color:#333;line-height:%?86?%;border-bottom:%?1?% solid #e8e8e8}.wrap[data-v-04a5f24a]{background-color:#fff}",""]),t.exports=e},3649:function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,".download[data-v-4e40fb61]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:20px;background:#fff;border-radius:15px}.download-button[data-v-4e40fb61]{margin-top:20px;width:132px;height:36px;text-align:center;line-height:36px;color:#fff;background:#ffa926;-webkit-box-shadow:0 3px 6px rgba(190,176,153,.16);box-shadow:0 3px 6px rgba(190,176,153,.16);opacity:1}",""]),t.exports=e},"413b":function(t,e,n){"use strict";n.r(e);var a=n("4663"),i=n("d05c");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("4572");var s,c=n("f0c5"),r=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"4e40fb61",null,!1,a["a"],s);e["default"]=r.exports},4572:function(t,e,n){"use strict";var a=n("4679"),i=n.n(a);i.a},4663:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var a={customPopup:n("f181").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("custom-popup",{ref:"downloadPopup",attrs:{type:"center"}},[n("v-uni-view",{staticClass:"download"},[n("v-uni-text",[t._v("演绎Ta的故事，找到你的朋友")]),n("v-uni-view",{staticClass:"download-button"},[t._v("立即下载")])],1)],1)],1)},o=[]},4679:function(t,e,n){var a=n("3649");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("53e94f92",a,!0,{sourceMap:!1,shadowMode:!1})},6554:function(t,e,n){"use strict";n.r(e);var a=n("8f28"),i=n("8550");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("7db2");var s,c=n("f0c5"),r=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"04a5f24a",null,!1,a["a"],s);e["default"]=r.exports},"6c90":function(t,e,n){"use strict";var a=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("f181")),o={components:{customPopup:i.default},methods:{open:function(){this.$refs.downloadPopup.open()}}};e.default=o},"7db2":function(t,e,n){"use strict";var a=n("c066"),i=n.n(a);i.a},8550:function(t,e,n){"use strict";n.r(e);var a=n("8cea"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"8cea":function(t,e,n){"use strict";n("7db0"),n("4160"),n("d81d"),n("a9e3"),n("498a"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{total:{type:Number,default:0},isMembers:{type:Boolean},commentList:{type:Array,default:[]},postData:{type:Object}},data:function(){return{isPopup:!1,isCommentParent:!1,placeholder:"发表评论...",type:"bottom",commentContent:"",parentId:"",selcetComment:null,postInfo:uni.getStorageSync("detailPost").data,userId:uni.getStorageSync("userInfo").user_id,commentParent:null}},computed:{commentListComputed:function(){var t=this;return this.commentList.forEach((function(e){var n=[];e.children&&e.children.length&&e.children.forEach((function(e){e.user_id==t.postData.user_id&&n.push(e)})),e.ownerComment=n})),this.commentList}},methods:{downloadApp:function(){this.$refs.download.open()},commentLike:function(t,e){this.$refs.download.open()},commentParents:function(t){this.commentContent="",this.commentParent=t,this.placeholder="回复@"+t.user.user_name,this.isCommentParent=!0},cancelParent:function(){this.commentContent="",this.commentParent=null,this.placeholder="发表评论...",this.isCommentParent=!1},findParentComment:function(t,e){var n=this;t.forEach((function(t){n.selcetComment?n.selcetComment.comment_id==t.comment_id&&t.children.unshift(e):e.commentParentId&&t.comment_id==e.commentParentId?t.children.unshift(e):t.children&&n.modify(t.children)}))},modify:function(t){var e=this;return t.map((function(t){return t.children&&e.modify(t.children),t.hasOwnProperty("like_list")&&t.like_list instanceof Array?(t.isLike=!!t.like_list.find((function(t){return t===e.userId})),t.likeListLength=t.like_list.length):(t.likeListLength=0,t.isLike=!1),t})),t},sendComment:function(){var t=this;if(this.commentContent.trim()){var e={post_id:this.postData.post_id,user_id:this.userId,content:this.commentContent};this.commentParent&&this.commentParent.comment_id&&(e.p_comment_id=this.commentParent.comment_id),this.$request({action:"comment/create",data:e}).then((function(e){var n={comment_id:e.data.comment_id,content:t.commentContent,children:[],like_list:[],likeListLength:0,isLike:!1,created_at:(new Date).getTime(),user:{user_id:t.userId,user_name:uni.getStorageSync("userInfo").user_name,avatar:uni.getStorageSync("userInfo").avatar},user_id:t.userId,commentParentId:t.commentParent&&t.commentParent.comment_id?t.commentParent.comment_id:""};t.selcetComment&&(n.reply=t.commentParent.user),n.commentParentId?t.findParentComment(t.commentList,n):t.commentList.unshift(n),t.$emit("addComment",n),t.commentContent="",t.cancelParent()}))}else uni.showToast({title:"评论不能为空哦~",icon:"none"})},toggle:function(t,e){this.selcetComment=this.commentList[e],this.commentParent={comment_id:this.selcetComment.comment_id},this.$refs.popup.open()},popupChange:function(t){this.isPopup=t.show,this.isPopup||(this.selcetComment=null,this.commentParent=null),uni.$emit("videoShow")}}};e.default=a},"8f28":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var a={customPopup:n("f181").default,downloadTips:n("413b").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"wrap"},[n("v-uni-view",{staticClass:"header"},[t._v("全部评论")]),t.commentList.length?[t._l(t.commentListComputed,(function(e,a){return n("v-uni-view",{key:a,staticClass:"main"},[n("v-uni-image",{staticClass:"main-left",attrs:{src:e.user.avatar?e.user.avatar:"/static/default__me_avatar.png"}}),n("v-uni-view",{staticClass:"main-content",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.commentParents(e)}}},[n("v-uni-view",{staticClass:"main-content-user"},[n("v-uni-view",[e.user?n("v-uni-text",{staticClass:"name"},[t._v(t._s(e.user.user_name))]):t._e(),n("span",{staticClass:"time"},[t._v(t._s(t._f("formatDate")(e.created_at)))])],1),n("v-uni-view",{staticClass:"action"},[n("v-uni-view",{staticClass:"list-action-item",on:{click:function(n){n.stopPropagation(),arguments[0]=n=t.$handleEvent(n),t.commentLike(a,e)}}},[n("v-uni-image",{staticClass:"list-action-icon",attrs:{src:e.isLike?"/static/icon_like_hl.png":"/static/icon_like.png"}}),n("v-uni-view",{staticClass:" list-action-num"},[t._v(t._s(e.likeListLength))])],1)],1)],1),n("v-uni-view",{staticClass:"main-content-detial"},[t._v(t._s(e.content))]),t._l(e.ownerComment,(function(e,a){return n("v-uni-view",{key:a,staticClass:"main-content-reply"},[n("v-uni-view",{staticClass:"reply-name"},[t._v(t._s(e.user.user_name))]),n("v-uni-view",{staticClass:"reply-content"},[t._v(t._s(e.content))])],1)})),e.children.length?n("v-uni-view",{staticClass:"main-content-total",on:{click:function(n){n.stopPropagation(),arguments[0]=n=t.$handleEvent(n),t.toggle(e,a)}}},[t._v("共"+t._s(e.children.length)+"条回复")]):t._e()],2)],1)})),n("v-uni-view",{staticClass:"comment-total",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.downloadApp.apply(void 0,arguments)}}},[t._v("查看全部"+t._s(t.total)+"条回复")])]:[n("v-uni-view",{staticClass:"empty"},[t._v("快来发表你的评论吧")])],n("custom-popup",{ref:"popup",attrs:{type:t.type,animation:!1},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.popupChange.apply(void 0,arguments)}}},[t.selcetComment&&t.selcetComment.user?n("v-uni-view",{staticClass:"popup-content"},[n("v-uni-view",{staticClass:"owner"},[n("v-uni-image",{staticClass:"owner-left",attrs:{src:t.selcetComment.user.avatar?t.selcetComment.user.avatar:"/static/default__me_avatar.png"}}),n("v-uni-view",{staticClass:"owner-content"},[n("v-uni-view",{staticClass:"owner-content-user"},[n("v-uni-view",[n("v-uni-text",{staticClass:"name"},[t._v(t._s(t.selcetComment.user.user_name))]),n("span",{staticClass:"time"},[t._v(t._s(t._f("formatDate")(t.selcetComment.created_at)))])],1),n("v-uni-view",{staticClass:"action"})],1),n("v-uni-view",{staticClass:"owner-content-detial"},[t._v(t._s(t.selcetComment.content))])],1)],1),n("v-uni-view",{staticClass:"owner-header"},[t._v("全部回复")]),t._l(t.selcetComment.children,(function(e,a){return n("v-uni-view",{key:a,staticClass:"main",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.commentParents(e)}}},[n("v-uni-image",{staticClass:"main-left",attrs:{src:e.user.avatar?e.user.avatar:"/static/default__me_avatar.png"}}),n("v-uni-view",{staticClass:"main-content"},[n("v-uni-view",{staticClass:"main-content-user"},[n("v-uni-view",[n("v-uni-text",{staticClass:"name"},[t._v(t._s(e.user.user_name))]),n("span",{staticClass:"time"},[t._v(t._s(t._f("formatDate")(e.created_at)))])],1),n("v-uni-view",{staticClass:"action"},[n("v-uni-view",{staticClass:"list-action-item",on:{click:function(n){n.stopPropagation(),arguments[0]=n=t.$handleEvent(n),t.commentLike(a,e)}}},[n("v-uni-image",{staticClass:"list-action-icon",attrs:{src:e.isLike?"/static/icon_like_hl.png":"/static/icon_like.png"}}),n("v-uni-view",{staticClass:" list-action-num"},[t._v(t._s(e.likeListLength))])],1)],1)],1),n("v-uni-view",{staticClass:"main-content-detial"},[e.reply&&e.p_comment_id!==t.selcetComment.comment_id?[t._v("回复@"+t._s(e.reply.user_name)+":")]:t._e(),t._v(t._s(e.content))],2)],1)],1)}))],2):t._e()],1),n("v-uni-view",{staticClass:"download-footer"},[t._v("剧个本APP内打开")]),n("download-tips",{ref:"download"})],2)},o=[]},c066:function(t,e,n){var a=n("0905");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("6a3ae33e",a,!0,{sourceMap:!1,shadowMode:!1})},d05c:function(t,e,n){"use strict";n.r(e);var a=n("6c90"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a}}]);